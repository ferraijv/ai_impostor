# ğŸ¤– AI Impostor

**Can you spot the AI-generated Reddit comment?**  
AI Impostor is a web game that presents a real Reddit post followed by four comments â€” one generated by an AI model and three written by humans. The player's goal is to identify the AI impostor.

---

## ğŸ—‚ Directory Structure

```
.
â”œâ”€â”€ templates
â”‚   â”œâ”€â”€ index.html          # Main game page
â”‚   â””â”€â”€ leaderboard.html    # Leaderboard showing model accuracy
â”œâ”€â”€ utils
â”‚   â””â”€â”€ scrape_comments.py  # Reddit scraper and game round generator
â””â”€â”€ serve_game.py           # Flask app serving the game and handling guesses
```

---

## ğŸš€ Features

- Random Reddit posts scraped from /r/AskReddit  
- One comment is AI-generated (using OpenAI or Gemini)  
- Three comments are real, high-upvoted Reddit responses  
- Interactive UI where players guess the AI  
- Leaderboard page showing average accuracy by model  

---

## ğŸ”§ Setup Instructions

### 1. Clone the repository and install dependencies

```bash
pip install flask mysql-connector-python praw openai google-generativeai python-dotenv
```

### 2. Create a `.env` file in your root directory

```
FLASK_ENV=development
OPENAI_API_KEY=your_openai_key
GEMINI_API_KEY=your_gemini_key
MYSQL_PASSWORD=your_local_mysql_password
```

### 3. Create a local MySQL database and `guesses` table

```sql
CREATE DATABASE ai_impostor_dev;

USE ai_impostor_dev;

CREATE TABLE guesses (
    id INT AUTO_INCREMENT PRIMARY KEY,
    game_id VARCHAR(64),
    guessed_index INT,
    correct_index INT,
    is_correct BOOLEAN,
    model_used VARCHAR(32),
    timestamp DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

### 4. Generate game rounds

Run the Reddit scraper to populate `game_rounds.json`:

```bash
python utils/scrape_comments.py
```

This fetches top Reddit posts, extracts real comments, and generates AI responses using GPT-4o or Gemini.

### 5. Run the Flask app locally

```bash
python serve_game.py
```

Then open your browser and go to:  
[http://localhost:5000](http://localhost:5000)

---

## ğŸŒ Deploying to PythonAnywhere

If you're using PythonAnywhere:

1. Upload your project files  
2. Add environment variables in the Web tab  
3. Use `FLASK_ENV=production`  
4. Set `MYSQL_PASSWORD` to your production DB password  

The app will automatically use the correct database config based on the environment.

---

## ğŸ“Š Leaderboard

The `/leaderboard` route displays:

- `model_used`: which model generated the comment  
- `accuracy_percent`: how often players guessed correctly  
- `total_guesses`: number of guesses per model  

---

## ğŸ”® AI Models Supported

- `gpt-4o` (OpenAI)  
- `gemini-2.0-flash` (Google)  

Each round randomly selects one of these models to generate the AI comment.

---

## ğŸ§  Future Ideas

- Track individual players or sessions  
- Add leaderboard filters (e.g. past 7 days)  
- Show comment-level difficulty scores  
- Display model confusion metrics  
- Add explainability or "confidence" sliders  

---

## ğŸ‘¤ Author

Created by [Jacob Ferraiolo](https://github.com/ferraijv)  
Contributions and suggestions welcome!
